## 整数二分

> 二分本质并不是数据**单调性**
>
> 本质为：给定一个区间，在区间上定义了某种性质，使得这个性质在**左（右）半边**是**满足**的，在**右（左）半边**是**不满足**的，二分就可以寻找**这个性质的边界**

![整数二分](https://cdn.jsdelivr.net/gh/zangguojun/PicGo/20210509121011.png)

#### **红色**的整数二分

1. 确定中间值：**mid = `l + r + 1` >> 1**
2. 检测中间值的性质（对应的是绿色区域的性质，即不满足整个区间的性质）：`check(q[mid])`
   + 如果为`true`，`mid`就在红色区间里，`res`就在`[mid, r]`
   + 如果为`false`，`mid`就在绿色区间里，`res`就在`[l, mid - 1]`
3. 更新方式
   + 如果上面的判断为`true`，`l = mid`
   + 如果上面的判断为`false`，`r = mid - 1`



#### **绿色**的整数二分

1. 确定中间值：**mid = `l + r` >> 1**
2. 检测中间值的性质（对应的是红色区域的性质，即不满足整个区间的性质）：`check(q[mid])`
   + 如果为`true`，`mid`就在绿色区间里，`res`就在`[l, mid]`
   + 如果为`false`，`mid`就在红色区间里，`res`就在`[mid + 1, r]`
3. 更新方式
   + 如果上面的判断为`true`，`r = mid`
   + 如果上面的判断为`false`，`l = mid + 1`